plugins:

  # Group: Global floating action button
  - package: ./dynamic-plugins/dist/red-hat-developer-hub-backstage-plugin-global-floating-action-button-dynamic
    disabled: true
    pluginConfig:
      dynamicPlugins:
        frontend:
          red-hat-developer-hub.backstage-plugin-global-floating-action-button:
            mountPoints:
              - mountPoint: application/listener
                importName: DynamicGlobalFloatingActionButton

  # Group: Scaffolder
  - package: ./dynamic-plugins/dist/backstage-community-plugin-scaffolder-backend-module-kubernetes-dynamic
    disabled: false

  # Group: Tech Radar
  - package: ./dynamic-plugins/dist/backstage-community-plugin-tech-radar-backend-dynamic
    disabled: true
    pluginConfig:
      techRadar:
        url: ${TECH_RADAR_DATA_URL}
  
  - package: ./dynamic-plugins/dist/backstage-community-plugin-tech-radar-dynamic
    disabled: true
    pluginConfig:
      dynamicPlugins:
        frontend:
          backstage-community.plugin-tech-radar:
            apiFactories:
              - importName: TechRadarApi
            appIcons:
              - name: techRadar
                importName: TechRadarIcon
            dynamicRoutes:
              - path: /tech-radar
                importName: TechRadarPage
                menuItem:
                  icon: techRadar
                  text: menuItem.techRadar
                  textKey: menuItem.techRadar
                config:
                  props:
                    width: 1500
                    height: 800
  
  # Group: Github Org
  - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
    disabled: true

  # Group: Kubernetes
  - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-dynamic
    disabled: true
    pluginConfig:
      kubernetes:
        serviceLocatorMethod:
          type: 'multiTenant'
        clusterLocatorMethods:
          - type: 'config'
            clusters:
              - name: ${K8S_CLUSTER_NAME}
                url: ${K8S_CLUSTER_URL}
                authProvider: 'serviceAccount'
                skipTLSVerify: true
                serviceAccountToken: ${K8S_CLUSTER_TOKEN}
  - package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-dynamic
    disabled: true
    pluginConfig:
      dynamicPlugins:
        frontend:
          backstage.plugin-kubernetes:
            mountPoints:
              - mountPoint: entity.page.kubernetes/cards
                importName: EntityKubernetesContent
                config:
                  layout:
                    gridColumn: "1 / -1"
                  if:
                    anyOf:
                      - hasAnnotation: backstage.io/kubernetes-id
                      - hasAnnotation: backstage.io/kubernetes-namespace